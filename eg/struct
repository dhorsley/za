#!/usr/bin/za

seed(epoch_nano_time())

struct s_person
    name    string
    age     int
    dob     string
endstruct

forenames=["Ada","Bob","Craig","David","Ergan","Frederick","George","Harry","Iris","Janis","Keith","Larry","Moon","Naomi","Orpheus","Pamela",
            "Quirkafleeg","Roger","Samuel","Tarjan","Una","Veronica","William","Xavier","Yvonne","Zod"
]

surnames =["Johnson","Smith","Cole","Plant","Ferry","Oakey","Gore","Cohen","Copeland","Charles","Dylan","Mercury","Bowie","Jett",
            "Petty","Strummer","Weller","Homme","Sandoval","Zevon","Costello"
]
    
var p int
    
for p=1 to 100
    init person_{p} s_person
endfor

# this will run really slowly, as interpolation is not quick at the best of times.
# its just here to show the option. eg/struct2 and eg/struct3 are faster doing the same thing.

for e=1 to 1000
    for p=1 to 100
        person_{p}.name=forenames[rand(len(forenames))-1]+" "+surnames[rand(len(surnames))-1]
        person_{p}.age=rand(49)
        person_{p}.dob=date(rand(1546300800))
        # println format("%4v,%3v : %32s : %2d",e,p,person_{p}.name,person_{p}.age)
    endfor
    #print
endfor

println "1000 iterations of 100 struct init and populations."

