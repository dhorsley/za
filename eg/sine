#!/usr/bin/za

# about as similar to processing.js example as you can do with text chars

define calcWave(theta,width,dx,amplitude)
    setglob theta = theta + 0.2
    x=float(theta)
    for i = 0 to width-1
        yvalues = append(yvalues,sin(x)*amplitude)
        x=x+dx
    endfor 
    return yvalues
enddef

define renderWave(yvalues,height)
    for x = 0 to len(yvalues)-1
        y=int(height/2)+int(yvalues[x])
        at y,x+1
        print "o"
    endfor
enddef


#
# MAIN
#

cls

theta = 45.0
period = 120.0

height=term_h()
amplitude = int(height/2)
width=term_w()

dx = (2.0*pi() / period)

while true
    cls
    yvalues=calcWave(theta,width,dx,amplitude)
    renderWave(yvalues,height)
    pause 50
endwhile

at term_h()-1,0 



