#!/usr/bin/za

struct demo
 left  ^
 right ^
 value int
endstruct

showstruct demo

init parent demo
init child demo
parent_p=^parent
child_p=^child

parent.value=42
parent.left=child_p
parent.right=nil

println format("parent : %#v\n",parent)
println format("child  : %#v\n",child)

println "parent-left is pointing at child\n"
println "parent-right is empty\n"

println "pl:",parent.left
println "pr:",parent.right
println "cl:",child.left
println "cr:",child.right

p1=parent.left
p2=parent.right

println "*parent-left  -> ",*p1
println "*parent-right -> ",*p2

println "is parent left nil? ",p1==nil
println "is parent right nil? ",p2==nil

