#!/usr/bin/za

doc `

struct tui
    row     int
    col     int
    height  int
    width   int
    action  string
    options []
    cursor  string
    title   string
    prompt  string
es

struct tui_style
    bg      string
    fg      string
    hi_bg   string
    hi_fg   string
    border  map[string]string
    fill    bool
    wrap    bool
es

`

cursoroff()
seed(-1)

t=tui_new()
s=tui_new_style()
t.row=10
t.col=10
t.height=20
t.width=30
t.title="test panel"

border=s.border
bg=0; fg=1
for ,bg==fg,
    bg,fg=[rand(7),rand(7)]
endfor
border["bg"]=bg.as_string
border["fg"]=fg.as_string
s.bg=bg.as_string
s.fg=fg.as_string
s.border=border
s.fill=true
s.hi_fg="2"
s.hi_bg="7"

tui_screen(1)
t.tui_box(s)

menu=tui_new()
menu.row,menu.col,menu.action = [10,10,"menu"]
menu.options=["one","two","three"]
menu.prompt ="Please select an option:"
menu.cursor="[#b1][#6]*[##][#-]"

result=menu.tui_menu(s)

# cleanup
tui_screen(0)
println "menu result -> ",result
cursoron()

