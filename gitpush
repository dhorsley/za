#!/usr/bin/za

input msg param 1

def msg(ctx,typ)
    if not ctx.okay
        println "{typ} error: ",ctx.error
    else
        println "{typ} okay"
    endif
end

| rm -f tools/funpages/*.html
| git add -A .

res=| git commit -m "{msg}"
if res.okay
    | git push
    msg(res,"push")
else
    println "No change."
    msg(res,"commit")
endif

