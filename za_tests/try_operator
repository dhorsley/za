#!/usr/bin/env za

# Simple test for ?? operator parsing

# permit("error_exit", false)
exception_strictness("warn")

# Test 1: Basic ?? operator with right-hand side
println "Test 1: nil ?? 'error'"
try
    result = nil ?? "test 1 error"
    println "This should not be reached"
catch err
    println "Test 1 Caught: " + err.pp
endtry

# Test 2: ?? operator without right-hand side (this should work)
println "Test 2: nil ??"
try
    result = nil ??
    println "This should not be reached"
catch err
    println "Test 2 Caught: " + err["message"]
endtry

# Test 3: Basic ?? operator without try
println "Test 3: nil ??"
result = nil ??
println "This should not be reached"

